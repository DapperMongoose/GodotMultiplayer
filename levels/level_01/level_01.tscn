[gd_scene load_steps=12 format=3 uid="uid://c8b2id37ne7cb"]

[ext_resource type="Texture2D" uid="uid://chwbcf7n2ajtp" path="res://art/platforms/Platformer_spritesheet.png" id="1_bxmrc"]
[ext_resource type="Script" path="res://levels/level.gd" id="1_tmmau"]
[ext_resource type="Texture2D" uid="uid://bja0wl8tcw71c" path="res://art/backgrounds/background_01.png" id="2_1ton0"]
[ext_resource type="Texture2D" uid="uid://bujx43rcy5b85" path="res://art/backgrounds/background_02.png" id="3_t5k8h"]
[ext_resource type="PackedScene" uid="uid://detbov4xu11s1" path="res://player/player.tscn" id="4_4wjg4"]
[ext_resource type="PackedScene" uid="uid://dlcgi5mfo8hiq" path="res://interactables/pressure_plate/pressure_plate.tscn" id="6_2ngxx"]
[ext_resource type="PackedScene" uid="uid://iwrsvnqs0f7l" path="res://interactables/door/door.tscn" id="7_iljrn"]
[ext_resource type="PackedScene" uid="uid://bpeaft8nfsxf2" path="res://interactables/chest/chest.tscn" id="8_t7v04"]
[ext_resource type="PackedScene" uid="uid://c4v2pb7q2mkms" path="res://interactables/key_door/key_door.tscn" id="9_he638"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_x7jts"]
texture = ExtResource("1_bxmrc")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(64, -64, 64, 64, -64, 64)
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:0/0 = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, 64, -64, 64)
3:0/0 = 0
3:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:0/0/physics_layer_0/angular_velocity = 0.0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -13, 64, -64, -12)
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
1:1/0 = 0
1:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:1/0/physics_layer_0/angular_velocity = 0.0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:1/0 = 0
2:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:1/0/physics_layer_0/angular_velocity = 0.0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
3:1/0 = 0
3:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:1/0/physics_layer_0/angular_velocity = 0.0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, -16, 14, 64, -64, 64)
0:2/0 = 0
0:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:2/0/physics_layer_0/angular_velocity = 0.0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-17, -64, 64, -64, 64, 64, -13, 64, -31.2655, 30.0177, -31.4841, 2.03503)
1:2/0 = 0
1:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:2/0/physics_layer_0/angular_velocity = 0.0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:2/0 = 0
2:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:2/0/physics_layer_0/angular_velocity = 0.0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
3:2/0 = 0
3:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:2/0/physics_layer_0/angular_velocity = 0.0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
0:3/0 = 0
0:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:3/0/physics_layer_0/angular_velocity = 0.0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 19, -64, 30.5393, 5.02704, 30.7269, 29.049, 15, 64, -64, 64)

[sub_resource type="TileSet" id="TileSet_g5lmr"]
tile_size = Vector2i(128, 128)
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 0
sources/0 = SubResource("TileSetAtlasSource_x7jts")

[node name="Level_01" type="Node2D" node_paths=PackedStringArray("players_container", "spawn_points")]
script = ExtResource("1_tmmau")
players_container = NodePath("Players/PlayersContainer")
player_scene = ExtResource("4_4wjg4")
spawn_points = [NodePath("Players/SpawnPoint_0"), NodePath("Players/SpawnPoint_1")]

[node name="Environment" type="Node" parent="."]

[node name="TileMap" type="TileMap" parent="Environment"]
scale = Vector2(0.5, 0.5)
tile_set = SubResource("TileSet_g5lmr")
format = 2
layer_0/tile_data = PackedInt32Array(196607, 131072, 2, 131072, 131072, 2, -589836, 65536, 0, -524300, 65536, 1, -458764, 65536, 1, -393228, 65536, 1, -327692, 65536, 1, -262156, 65536, 1, -196620, 65536, 1, -131084, 65536, 1, -65548, 65536, 1, -12, 65536, 1, 65524, 65536, 1, 131060, 65536, 1, 196596, 131072, 2, -589835, 65536, 0, -524299, 0, 3, -458763, 0, 3, -393227, 0, 3, -327691, 0, 3, -262155, 0, 3, -196619, 0, 3, -131083, 0, 3, -65547, 0, 3, -11, 131072, 1, 65525, 0, 3, 131061, 0, 3, 196597, 131072, 2, 196598, 131072, 2, 196599, 131072, 2, 196600, 131072, 2, 196601, 131072, 2, 196602, 131072, 2, 196603, 131072, 2, 196604, 131072, 2, 196605, 131072, 2, 196606, 131072, 2, 131073, 131072, 2, 131074, 131072, 2, 131075, 131072, 2, 131076, 131072, 2, 131077, 131072, 2, 131078, 131072, 2, 131079, 131072, 2, 131080, 131072, 2, 131081, 131072, 2, 131082, 131072, 2, 131083, 131072, 2, 131084, 131072, 2, 131085, 131072, 2, -131058, 196608, 0, -65522, 0, 2, 14, 0, 2, 65550, 0, 2, 131086, 131072, 2, -131057, 65536, 0, -65521, 65536, 1, 15, 65536, 1, 65551, 65536, 1, 131087, 131072, 2, -131056, 65536, 0, -65520, 65536, 1, 16, 65536, 1, 65552, 65536, 1, 131088, 131072, 2, -131055, 65536, 0, -65519, 65536, 1, 17, 65536, 1, 65553, 65536, 1, 131089, 131072, 2, -131054, 131072, 0, -65518, 131072, 1, 18, 65536, 1, 65554, 65536, 1, 131090, 131072, 2, -65517, 131072, 0, 19, 131072, 1, 65555, 65536, 1, 131091, 131072, 2, 20, 131072, 0, 65556, 131072, 1, 131092, 131072, 2, 65557, 131072, 0, 131093, 131072, 2, 131094, 131072, 2, 131095, 131072, 2, 131096, 131072, 2, 131097, 131072, 2, 131098, 131072, 2, 131099, 131072, 2, 131100, 131072, 2, 131101, 131072, 2, 131102, 131072, 2, 131103, 131072, 2, 131104, 131072, 2, 131105, 131072, 2, 131106, 131072, 2, 131107, 131072, 2, 131108, 131072, 2, 131109, 131072, 2, 131110, 131072, 2, 131111, 131072, 2, -655320, 65536, 0, -589784, 0, 2, -524248, 0, 2, -393176, 0, 2, -327640, 0, 2, -262104, 0, 2, -196568, 0, 1, -131032, 0, 2, -65496, 0, 2, 40, 0, 2, 65576, 0, 2, 131112, 131072, 2, -655319, 65536, 0, -589783, 65536, 1, -524247, 65536, 1, -393175, 65536, 1, -327639, 65536, 1, -262103, 65536, 1, -196567, 65536, 1, -131031, 65536, 1, -65495, 65536, 1, 41, 65536, 1, 65577, 65536, 1, 131113, 131072, 2, -655318, 65536, 0, -655317, 65536, 0, -655316, 65536, 0, -655315, 65536, 0, -655314, 65536, 0, -655313, 65536, 0, -589782, 65536, 1, -589781, 65536, 1, -589780, 65536, 1, -589779, 65536, 1, -589778, 65536, 1, -589777, 65536, 1, -524246, 65536, 1, -524245, 65536, 1, -458709, 65536, 1, -458708, 65536, 1, -458707, 65536, 1, -393171, 65536, 1, -393170, 65536, 1, -327634, 65536, 1, -327633, 65536, 1, -196561, 65536, 1, 131119, 131072, 2, 131118, 131072, 2, 131117, 131072, 2, 131116, 131072, 2, 131115, 131072, 2, 131114, 131072, 2, 65578, 65536, 1, 42, 65536, 1, -65494, 65536, 1, -131030, 65536, 1, -196566, 65536, 1, -262102, 65536, 1, -327638, 65536, 1, -458710, 65536, 1, -524244, 65536, 1, -524243, 65536, 1, -524242, 65536, 1, -524241, 65536, 1, -458705, 65536, 1, -393169, 65536, 1, -131025, 65536, 1, -65489, 65536, 1, 47, 65536, 1, 65583, 65536, 1, 65582, 65536, 1, 65581, 65536, 1, 65580, 65536, 1, 65579, 65536, 1, 43, 65536, 1, -65493, 65536, 1, -131029, 65536, 1, -196565, 65536, 1, -262101, 65536, 1, -327637, 65536, 1, -393172, 65536, 1, -458706, 65536, 1, -262100, 65536, 1, -262099, 65536, 1, -196563, 65536, 1, -196562, 65536, 1, -131026, 65536, 1, -131027, 65536, 1, -131028, 65536, 1, -65491, 65536, 1, -65492, 65536, 1, 44, 65536, 1, 45, 65536, 1, 46, 65536, 1, -65490, 65536, 1, -196564, 65536, 1, -458712, 0, 2, -458711, 65536, 1, -393174, 65536, 1, -393173, 65536, 1, -327636, 65536, 1, -327635, 65536, 1, -262098, 65536, 1, -262097, 65536, 1, -589837, 65536, 0, -589838, 65536, 0, -589839, 65536, 0, -589840, 65536, 0, -589841, 65536, 0, -589842, 65536, 0, 196595, 131072, 2, 196594, 131072, 2, 196593, 131072, 2, 196592, 131072, 2, 196591, 131072, 2, 196590, 131072, 2, -524306, 65536, 1, -524305, 65536, 1, -524304, 65536, 1, -524303, 65536, 1, -524302, 65536, 1, -524301, 65536, 1, -458765, 65536, 1, -458766, 65536, 1, -458767, 65536, 1, -458768, 65536, 1, -458769, 65536, 1, -458770, 65536, 1, -393234, 65536, 1, -327698, 65536, 1, -262162, 65536, 1, -196626, 65536, 1, -131090, 65536, 1, -65554, 65536, 1, -18, 65536, 1, 65518, 65536, 1, 131054, 65536, 1, 131055, 65536, 1, 131056, 65536, 1, 131057, 65536, 1, 131058, 65536, 1, 131059, 65536, 1, 65523, 65536, 1, 65522, 65536, 1, 65521, 65536, 1, 65520, 65536, 1, 65519, 65536, 1, -17, 65536, 1, -16, 65536, 1, -15, 65536, 1, -14, 65536, 1, -13, 65536, 1, -65549, 65536, 1, -65550, 65536, 1, -65551, 65536, 1, -65552, 65536, 1, -65553, 65536, 1, -131089, 65536, 1, -131088, 65536, 1, -131087, 65536, 1, -131086, 65536, 1, -131085, 65536, 1, -196621, 65536, 1, -196622, 65536, 1, -196623, 65536, 1, -196624, 65536, 1, -196625, 65536, 1, -262161, 65536, 1, -262160, 65536, 1, -262159, 65536, 1, -262158, 65536, 1, -262157, 65536, 1, -327693, 65536, 1, -327694, 65536, 1, -327695, 65536, 1, -327696, 65536, 1, -327697, 65536, 1, -393233, 65536, 1, -393232, 65536, 1, -393231, 65536, 1, -393230, 65536, 1, -393229, 65536, 1, 196589, 131072, 2, 131053, 65536, 1, 65517, 65536, 1, -19, 65536, 1, -65555, 65536, 1, -131091, 65536, 1, -262163, 65536, 1, -327699, 65536, 1, -393235, 65536, 1, -458771, 65536, 1, -196627, 65536, 1, -524307, 65536, 1, -589843, 65536, 0, -655312, 65536, 0, 131120, 131072, 2, 65584, 65536, 1, 48, 65536, 1, -65488, 65536, 1, -131024, 65536, 1, -196560, 65536, 1, -262096, 65536, 1, -327632, 65536, 1, -393168, 65536, 1, -458704, 65536, 1, -524240, 65536, 1, -589776, 65536, 1, -10, 65536, 0, -9, 65536, 0, -8, 65536, 0, -7, 65536, 0, -6, 131072, 0, -655321, 65536, 0, -655322, 65536, 0, -655323, 65536, 0, -655324, 65536, 0, -655325, 65536, 0, -655326, 65536, 0, -655327, 65536, 0, -655328, 65536, 0, -655329, 65536, 0, -655330, 65536, 0, -655331, 65536, 0, -655332, 65536, 0, -655333, 65536, 0, -655334, 65536, 0, -655335, 65536, 0, -655336, 65536, 0, -655337, 65536, 0, -655338, 65536, 0, -655339, 65536, 0, -655340, 65536, 0, -655341, 65536, 0, -655342, 65536, 0, -655343, 65536, 0, -655344, 65536, 0, -655345, 65536, 0, -655346, 65536, 0, -655347, 65536, 0, -655348, 65536, 0, -655349, 65536, 0, -655350, 65536, 0, -655351, 65536, 0, -655352, 65536, 0, -655353, 65536, 0, -655354, 65536, 0, -655355, 65536, 0, -655356, 65536, 0, -655357, 65536, 0, -655358, 65536, 0, -655359, 65536, 0, -655360, 65536, 0, -589825, 65536, 0, -589826, 65536, 0, -589827, 65536, 0, -589828, 65536, 0, -589829, 65536, 0, -589830, 65536, 0, -589831, 65536, 0, -589832, 65536, 0, -589833, 65536, 0, -589834, 65536, 0, -196569, 65536, 0, -196570, 65536, 0, -196571, 65536, 0, -196587, 196608, 0, -196586, 65536, 0, -196585, 65536, 0, -196584, 196608, 1, -196572, 196608, 0)

[node name="ParallaxBackground" type="ParallaxBackground" parent="Environment"]
offset = Vector2(0, -560)
transform = Transform2D(1, 0, 0, 1, 0, -560)

[node name="ParallaxTrees" type="ParallaxLayer" parent="Environment/ParallaxBackground"]
motion_scale = Vector2(0.25, 1)
motion_mirroring = Vector2(1334, 0)

[node name="BackgroundTrees" type="Sprite2D" parent="Environment/ParallaxBackground/ParallaxTrees"]
texture = ExtResource("2_1ton0")
centered = false

[node name="ParallaxHouses" type="ParallaxLayer" parent="Environment/ParallaxBackground"]
motion_scale = Vector2(0.5, 1)
motion_mirroring = Vector2(1334, 0)

[node name="BackgroundHouses" type="Sprite2D" parent="Environment/ParallaxBackground/ParallaxHouses"]
texture = ExtResource("3_t5k8h")
centered = false

[node name="Interactables" type="Node" parent="."]

[node name="DoorPlate" parent="Interactables" instance=ExtResource("6_2ngxx")]
position = Vector2(-618, -68)

[node name="Door" parent="Interactables" instance=ExtResource("7_iljrn")]
position = Vector2(-329, 130)

[node name="Chest" parent="Interactables" instance=ExtResource("8_t7v04")]
position = Vector2(-594, 130)
rotation = -3.14159
scale = Vector2(1, -1)

[node name="KeyDoor" parent="Interactables" instance=ExtResource("9_he638")]
position = Vector2(2515, -190)

[node name="BridgePlate1" parent="Interactables" instance=ExtResource("6_2ngxx")]
position = Vector2(1386, -197)

[node name="BridgePlate2" parent="Interactables" node_paths=PackedStringArray("plate_up", "plate_down") instance=ExtResource("6_2ngxx")]
position = Vector2(1557, -197)
plate_up = NodePath("../BridgePlate1/PlateUp")
plate_down = NodePath("../BridgePlate1/PlateDown")

[node name="Players" type="Node" parent="."]

[node name="PlayersContainer" type="Node2D" parent="Players"]

[node name="PlayerSpawner" type="MultiplayerSpawner" parent="Players"]
_spawnable_scenes = PackedStringArray("res://player/player.tscn")
spawn_path = NodePath("../PlayersContainer")
spawn_limit = 2

[node name="SpawnPoint_0" type="Node2D" parent="Players"]
position = Vector2(685, 109)

[node name="SpawnPoint_1" type="Node2D" parent="Players"]
position = Vector2(811, 109)

[connection signal="toggle" from="Interactables/DoorPlate" to="Interactables/Door" method="activate"]
